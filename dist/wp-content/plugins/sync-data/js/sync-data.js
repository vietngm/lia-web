(()=>{var e={33:()=>{jQuery((function(e){root=e(this),e(".btn-auth").on("click",(async function(o){const n=root.find('[name="username"]').prop("value"),t=root.find('[name="password"]').prop("value"),a=root.find('[name="endpoint"]').val();return""===a?(e.fancybox("#modal-environment",{modal:!0,showCloseButton:!1}),!1):""===n||""===t?(e.fancybox("#modal-account",{modal:!0,showCloseButton:!1}),!1):(e.fancybox("#modal-wait",{modal:!0,showCloseButton:!1}),e.ajax({url:a+"/auth/sign-in",type:"POST",dataType:"JSON",data:{username:n,password:t},success:async function(o){if(o){const n=o.data.token,t=o.data.refreshToken;await async function(o,n){e.ajax({url:AJAX_URL,type:"POST",data:{action:"auth",token:o,refreshToken:n},success:async function(n){n?(e.fancybox({closeExisting:!0}),e("#post-body").append((html='<div class="postbox">',html+='<h3 class="hndle"><span>Actions</span></h3>',html+='<div class="inside environment">',html+='<input type="button" name="service" class="button btn-service" value="Service Sync"/>',html+='<input type="button" name="doctor" class="button btn-doctor" value="Practitioner Sync"/>',html+="</div></div>",html)),e("#login-status p strong").text("Đăng nhập thành công."),e("#login-status").append((html='<form name="form-sync-data" method="post" action="">',html+='<input type="submit" name="logout" id="logout" class="logout" value="Log Out" />',html+="</form>",html)),e("#wpbody-content").append(function(e){return html=`<input type="hidden" name="token" value="${e}">`,html}(o)),e("#login").remove(),e("#login-status").removeClass("error").addClass("updated")):console.log("Token luu khong thanh cong.")},error:function(){console.log("Loi khong ro ly do.")}})}(n,t),console.log("Sign in successfully")}else console.log(o)},error:function(){e.fancybox("#modal-account",{modal:!0,showCloseButton:!1}),console.log("Loi khong ro ly do.")}}),!1)}))}))},172:(e,o,n)=>{var t=n(453),a=n(192);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);t(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},192:(e,o,n)=>{"use strict";n.r(o),n.d(o,{default:()=>t});const t=n.p+"css/common.css"},312:()=>{jQuery((function(e){async function o(e){const o=e.filter((e=>e.isDisplay&&e.isActive)),n=[];for(let e=0;e<o.length;e+=10)n.push(o.slice(e,e+10));return n}root=e(this),envOp=root.find('[name="op_env"]'),e(document).on("click",".btn-service",(function(){const n=root.find('[name="endpoint"]').val(),t=root.find('[name="token"]').val(),a=root.find('[name="environment"]').val();return""===n?(e.fancybox("#modal-environment",{modal:!0,showCloseButton:!1}),!1):""===t?(e.fancybox("#modal-login",{modal:!0,showCloseButton:!1}),!1):(e.fancybox("#modal-process",{modal:!0,showCloseButton:!1}),void async function(n,t,a){try{const r=await fetch(`${n}/service?perPage=100`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`${r.status}`);const s=await r.json();if(s&&s.data){const n=await o(s.data);!function(o,n){p=0;var t=setInterval((function(){e.ajax({url:AJAX_URL,type:"POST",data:{action:"sync_service_data",status:n,p,data:o[p]},success:function(n){if(n){const a=JSON.parse(n);a.page==o.length-1&&(e.fancybox.open("#modal-success",{modal:!0,showCloseButton:!1}),console.log(a.message)),a.page==o.length-1&&clearInterval(t),p++}else console.warn("Lỗi: Dữ liệu trả về không hợp lệ.",n)},error:function(e,o,n){console.error("Lỗi xảy ra:",o,n)}})}),5e3)}(n,a),console.log("Success:",n)}else console.warn("Không có dữ liệu hợp lệ:",s)}catch(o){e.fancybox({closeExisting:!0}),"401"==o.message?e.fancybox("#modal-login",{modal:!0,showCloseButton:!1}):e.fancybox("#modal-login-again",{modal:!0,showCloseButton:!1}),console.error("Lỗi khi lấy dữ liệu:",o)}}(n,t,a))})),e(document).on("click",".btn-doctor",(function(n){const t=root.find('[name="endpoint"]').val(),a=root.find('[name="token"]').val(),r=root.find('[name="environment"]').val();return""===t?(e.fancybox("#modal-environment",{modal:!0,showCloseButton:!1}),!1):""===a?(e.fancybox("#modal-login",{modal:!0,showCloseButton:!1}),!1):(e.fancybox("#modal-process",{modal:!0,showCloseButton:!1}),void async function(n,t,a){try{const r=await fetch(`${n}/practitioner`,{method:"GET",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok)throw new Error(`${r.status}`);const s=await r.json();if(s&&s.data){const n=await o(s.data);!function(o,n){p=0;var t=setInterval((function(){e.ajax({url:AJAX_URL,type:"POST",data:{action:"sync_doctor_data",status:n,p,data:o[p]},success:function(n){if(n){const a=JSON.parse(n);a.page==o.length-1&&(e.fancybox.open("#modal-success",{modal:!0,showCloseButton:!1}),console.log(a.message)),a.page==o.length-1&&clearInterval(t),p++}else console.warn("Lỗi: Dữ liệu trả về không hợp lệ.",n)},error:function(e,o,n){console.error("Lỗi xảy ra:",o,n)}})}),5e3)}(n,a),console.log("Success:",n)}else console.warn("Không có dữ liệu hợp lệ:",s)}catch(o){e.fancybox({closeExisting:!0}),"401"==o.message?e.fancybox("#modal-login",{modal:!0,showCloseButton:!1}):e.fancybox("#modal-login-again",{modal:!0,showCloseButton:!1}),console.error("Lỗi khi lấy dữ liệu:",o)}}(t,a,r))})),envOp.change((function(){const o=e(this).val(),n=e("#op_env option:selected").text();root.find('[name="endpoint"]').val(o),root.find('[name="environment"]').val(n)})),e(".modal-close").on("click",(function(){e.fancybox.close()}))}))},453:(e,o,n)=>{"use strict";var t,a=function(){var e={};return function(o){if(void 0===e[o]){var n=document.querySelector(o);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[o]=n}return e[o]}}(),r=[];function s(e){for(var o=-1,n=0;n<r.length;n++)if(r[n].identifier===e){o=n;break}return o}function i(e,o){for(var n={},t=[],a=0;a<e.length;a++){var i=e[a],c=o.base?i[0]+o.base:i[0],l=n[c]||0,u="".concat(c," ").concat(l);n[c]=l+1;var d=s(u),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(r[d].references++,r[d].updater(f)):r.push({identifier:u,updater:h(f,o),references:1}),t.push(u)}return t}function c(e){var o=document.createElement("style"),t=e.attributes||{};if(void 0===t.nonce){var r=n.nc;r&&(t.nonce=r)}if(Object.keys(t).forEach((function(e){o.setAttribute(e,t[e])})),"function"==typeof e.insert)e.insert(o);else{var s=a(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(o)}return o}var l,u=(l=[],function(e,o){return l[e]=o,l.filter(Boolean).join("\n")});function d(e,o,n,t){var a=n?"":t.media?"@media ".concat(t.media," {").concat(t.css,"}"):t.css;if(e.styleSheet)e.styleSheet.cssText=u(o,a);else{var r=document.createTextNode(a),s=e.childNodes;s[o]&&e.removeChild(s[o]),s.length?e.insertBefore(r,s[o]):e.appendChild(r)}}function f(e,o,n){var t=n.css,a=n.media,r=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}var p=null,m=0;function h(e,o){var n,t,a;if(o.singleton){var r=m++;n=p||(p=c(o)),t=d.bind(null,n,r,!1),a=d.bind(null,n,r,!0)}else n=c(o),t=f.bind(null,n,o),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else a()}}e.exports=function(e,o){(o=o||{}).singleton||"boolean"==typeof o.singleton||(o.singleton=(void 0===t&&(t=Boolean(window&&document&&document.all&&!window.atob)),t));var n=i(e=e||[],o);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var t=0;t<n.length;t++){var a=s(n[t]);r[a].references--}for(var c=i(e,o),l=0;l<n.length;l++){var u=s(n[l]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=c}}}},525:(e,o,n)=>{"use strict";n(312),n(33)}},o={};function n(t){var a=o[t];if(void 0!==a)return a.exports;var r=o[t]={id:t,exports:{}};return e[t](r,r.exports,n),r.exports}n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var o=n.g.document;if(!e&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var a=t.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=t[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),n.nc=void 0,n(525),n(172)})();